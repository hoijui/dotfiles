#!/bin/bash

if !which docker >/dev/null 2>&1; then
  echo "command not found : docker " >&2
fi
CONTAINER=$(docker ps | peco | awk '{print $NF}')
# echo $PID

if [ -n "$CONTAINER" ]; then
  sudo docker exec -t -i ${CONTAINER} bash
  [ $? -eq 255 ] && sudo docker exec -it "${CONTAINER}" sh
  # || sudo docker exec -t -i ${CONTAINER} sh
  # "[ -e /bin/bash ] && /bin/bash || /bin/sh"
fi


